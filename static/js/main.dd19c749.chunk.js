(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{127:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(26),s=n.n(i),r=n(20),c=n(48),l=n(4),p=n(49),h=n(50),u=n(51),d=n(59),f=n(52),g=n(61),m=n(6),v=n(129),y=n(130),b=n(131),E=n(53),w=n.n(E),k=n(54),S=n(55),x=n.n(S),O=function(e){return{type:"UPDATE_SEARCH_KEY",key:e}},j=function(e){return{type:"Filter_MOVIES",key:e}},K=function(e){return function(t){new Promise(function(e,t){e()}).then(function(){t(j(e))})}},M=function(e){return function(t){x.a.get("CONTENTLISTINGPAGE-PAGE".concat(e,".json")).then(function(e){t({type:"GET_MOVIES",movies:e.data.page["content-items"].content})}).catch(function(e){console.log("error: ".concat(e))})}},T=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(d.a)(this,Object(f.a)(t).call(this,e))).handleScroll=function(e){window.innerHeight+window.scrollY>=document.body.offsetHeight-400&&(n.state.page<3&&(n.setState({page:n.state.page+1}),n.fetchMovies(n.state.page)),console.log("looks like yeah "))},n.state={posts:[],searchKey:"",page:1,init:!0,isVisible:!1,isMobile:!1},n.handleSearch=n.handleSearch.bind(Object(m.a)(Object(m.a)(n))),n.showHead=n.showHead.bind(Object(m.a)(Object(m.a)(n))),n.onKeyDown=n.onKeyDown.bind(Object(m.a)(Object(m.a)(n))),n}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.actions.getMovies(this.state.page),window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"genImage",value:function(e,t,n){return o.a.createElement(w.a,null,o.a.createElement("div",{style:{alignItems:"center",overflow:"hidden"}},o.a.createElement("img",{style:{width:"100%"},src:"./assets/".concat(e)||"./assets/placeholder_for_missing_posters.png",alt:"./assets/placeholder_for_missing_posters.png"})))}},{key:"showPosts",value:function(){var e=this;return this.props.movies.length>1?this.props.movies.map(function(t,n){var a=t["poster-image"];return o.a.createElement(v.a,{xs:4,key:n,style:{float:"left",marginBottom:"45px",marginRight:"0px",marginLeft:"0px"}},o.a.createElement("div",{style:{display:"inline-block"}},o.a.createElement("div",{style:{paddingBottom:"10px"}},e.genImage(a,n,e.props.movies.length)),o.a.createElement("p",{style:{color:"#ffffff",fontSize:"3vw"}},t.name)))}):o.a.createElement("div",null,"Loading...")}},{key:"handleSearch",value:function(e){e.preventDefault(),this.setState({searchKey:e.target.value}),e.target.value.trim().length>1&&(this.props.actions.updateSearchKey(this.state.searchKey),this.props.actions.asyncFilterMovies(this.props.search.searchKey))}},{key:"onKeyDown",value:function(e){8===e.keyCode&&(this.setState({searchKey:""}),this.props.actions.getMovies(this.state.page),this.props.actions.updateSearchKey(""))}},{key:"showHead",value:function(){var e=this;return o.a.createElement("div",{style:{position:"sticky",top:"0"}},o.a.createElement("div",{style:{marginTop:"30px",marginBottom:"30px",maxHeight:"190px"}},o.a.createElement("input",{type:"image",src:"./assets/Back.png",alt:"back",width:"28",height:"28",style:{display:"inline",float:"left",paddingTop:"0px"}}),o.a.createElement("span",null,o.a.createElement("input",{type:"text",onChange:function(t){return e.handleSearch(t)},onKeyDown:this.onKeyDown,value:this.state.searchKey,style:{border:"1px solid #2c2c2d",display:"inline",backgroundColor:"#131314",color:"#ffffff",fontSize:"4vw",marginLeft:"20px",outline:"none"}})),o.a.createElement("input",{type:"image",src:"./assets/search.png",alt:"search",width:"48",height:"28",onClick:function(t){return e.handleSearch(t)},style:{display:"inline",float:"right",paddingTop:"0px",paddingRight:"20px"}})))}},{key:"fetchMovies",value:function(e){console.log("new movies for page ".concat(e)),this.props.actions.getMovies(this.state.page)}},{key:"render",value:function(){var e=this.showPosts(),t=this.showHead();return k.isMobile?o.a.createElement("div",{className:""},o.a.createElement("div",null,t),o.a.createElement(y.a,null,o.a.createElement("div",null,o.a.createElement(b.a,null,e)))):o.a.createElement("div",null,o.a.createElement("p",{style:{color:"#ffffff",fontSize:"25px",paddingTop:"30px",right:"50%"}},"React JS/ Workshop/ Diagnal technologies"),o.a.createElement("div",{style:{padding:0,margin:0,marginTop:"30px",backgroundPosition:"center",backgroundSize:"cover",height:"500px",backgroundImage:"url(./assets/mobileOnly.jpg)",color:"#ffffff",fontSize:"25px",position:"relative"}},o.a.createElement("p",{style:{position:"absolute",bottom:"80px",left:"20px",backgroundColor:"#191a21",color:"#ffffff",paddingLeft:"20px",paddingRight:"20px",width:"300px"}},"This is Mobile only version, please view the page in mobile or use browser devtools to toggle device view and then refresh the page.")))}}]),t}(a.Component),_=Object(r.b)(function(e){return{movies:e.movies,search:e.search}},function(e){return{actions:Object(l.bindActionCreators)({getMovies:M,updateSearchKey:O,filterMovies:j,asyncFilterMovies:K},e)}})(T),C=n(60),D=n(21),I=[],H=Object(l.combineReducers)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MOVIES":return Object(D.a)(t.movies);case"Filter_MOVIES":if(t.key.trim().length<1)return Object(D.a)(e);var n=RegExp("".concat(t.key.toLowerCase())),a=e.filter(function(e){return n.test(e.name.toLowerCase())});return Object(D.a)(a);default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{searchKey:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SEARCH_KEY":return Object(C.a)({},e,{searchKey:t.key});default:return e}}}),L=Object(l.createStore)(H,Object(p.composeWithDevTools)(Object(l.applyMiddleware)(c.a)));s.a.render(o.a.createElement(r.a,{store:L},o.a.createElement(_,null)),document.getElementById("root"))},62:function(e,t,n){e.exports=n(127)}},[[62,2,1]]]);
//# sourceMappingURL=main.dd19c749.chunk.js.map